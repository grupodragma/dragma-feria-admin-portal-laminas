<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="theme-color" content="#00b3ce" />
        <meta http-equiv="Content-Language" content="es" />
        <meta name="description" content="LA ÚNICA FERIA DEL SECTOR INMOBILIARIO EN EL PERÚ, y es organizada por la Centro Virtual de Convenciones." />
        <meta name="Keywords" content="Ferias virtuales, recorridos, convenciones" />
        <title>FERIA VIRTUAL INMOBILIRIA - LA ÚNICA FERIA VIRTUAL DEL SECTOR INMOBILIARIO EN EL PERÚ.</title>
        <base href="<?php echo $this->layout()->base_url; ?>" />
        <link href="https://centrovirtualdeconvenciones.com/expohogar.png" rel="shortcut icon" title="feria-2020" />
        <meta name="viewport" content="width=480" initial-scale="1" />
        <link rel="alternate" hreflang="es" href="https://dragmastands.com/" />
        <link href="plantillas/css/style.css" rel="stylesheet" type="text/css" />
        <!-- CSS [INICIO] -->
        <link rel="stylesheet" media="screen, print" href="plantillas/css/fontawesome.min.css" />
        <link href="plantillas/css/base.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" media="screen, print" href="css/formplugins/select2/select2.bundle.css" />
        <link rel="stylesheet" media="screen, print" href="css/notifications/toastr/toastr.css" />
        <!-- CSS [FIN] -->
        <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap" rel="stylesheet" />
        <script type="text/javascript" src="plantillas/js/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="plantillas/js/jquery.popupoverlay.js"></script>
        <!-- JS [INICIO] -->
        <script src="js/formplugins/select2/select2.bundle.js"></script>
        <script src="js/notifications/toastr/toastr.js"></script>
        <script src="plantillas/js/bootstrap-tooltip.js"></script>
        <!-- JS [FIN] -->
    </head>

    <body>
        <div class="se-pre-con"></div>
        <div class="header-index">
            <a href="javascript:void(0)" class="logos">
                <img src="ferias/logo/<?php echo $this->feria['hash_logo']; ?>" width="60%" />
            </a>
            <div class="logos-2">
                <img src="plantillas/imagenes/logocentrovirtual.png" width="15%" />
                <img src="clientes/logo/<?php echo $this->cliente['hash_logo']; ?>" width="20%" />
            </div>
            <div class="logos-3">
                <a href="javascript:void(0)" style="display: none;"><i class="fas fa-user"></i>&nbsp;INGRESAR AL EVENTO</a>
            </div>

            <a href="#" data-drawer-trigger aria-controls="drawer-name" aria-expanded="false" class="button-menu"><img src="plantillas/imagenes/menu-01.svg" width="68%" /></a>
        </div>

        <section class="home">
            <section class="drawer" id="drawer-name" data-drawer-target>
                <div class="drawer__overlay" data-drawer-close tabindex="1"></div>

                <div class="drawer__wrapper">
                    <button class="drawer__close" data-drawer-close aria-label="Close Drawer"></button>
                    <div class="drawer__content">
                        <ul class="menu-responsive">
                            <a href="hall-planos-1.html">INICIAR FERIA</a>
                            <a href="hall.html"><img src="plantillas/imagenes/iconos-menu-01.svg" />Recepción</a>
                            <a href="hall-planos-1.html"><img src="plantillas/imagenes/iconos-menu-02.svg" />Zona Ferial</a>
                            <a href="conferencias.html"><img src="plantillas/imagenes/iconos-menu-03.svg" />Conferencias</a>
                            <a href="#"><i class="fas fa-search"></i>&nbsp;Buscar por distrito</a>
                        </ul>
                        <div class="logo-responsive-ccl">
                            <img src="plantillas/imagenes/logo-ccl-white-01.svg" width="45%" />
                        </div>
                    </div>
                </div>
            </section>
            
            <div class="slide active-hall imagen-fondo" data-width="2000" data-height="1109" data-accept=".jpg,.jpeg,.png" style="background-image: url(<?php echo(isset($this->configuracion[ 'imagen_fondo' ]))?'paginas/hall/'.$this->configuracion['imagen_fondo']['hash']:'img/plantillas/hall/imagen_fondo.jpg';?>);">

                <div class="cajas-artes">
                    <div class="arte-1 imagen banners" data-idbanner="<?php echo (isset($this->configuracion['banner_opciones']['imagen_izquierda_1']))?$this->configuracion['banner_opciones']['imagen_izquierda_1']:'';?>" data-id="imagen_izquierda_1" data-width="232" data-height="533" data-accept=".jpg,.jpeg,.png">
                        <a href="#">
                            <img
                                src="<?php echo ( isset($this->configuracion['imagen_izquierda_1'])) ? 'paginas/hall/'.$this->configuracion['imagen_izquierda_1']['hash'] : 'img/plantillas/hall/imagen_izquierda_1.jpg'; ?>"
                                class="img"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="La dimensión recomendada es de 232 px de ancho y 533 px de alto"
                            />
                        </a>
                    </div>

                    <div class="espacito"></div>

                    <div class="arte-2 imagen banners" data-idbanner="<?php echo (isset($this->configuracion['banner_opciones']['imagen_izquierda_2']))?$this->configuracion['banner_opciones']['imagen_izquierda_2']:'';?>" data-id="imagen_izquierda_2" data-width="232" data-height="533" data-accept=".jpg,.jpeg,.png">
                        <a href="#">
                            <img
                                src="<?php echo ( isset($this->configuracion['imagen_izquierda_2'])) ? 'paginas/hall/'.$this->configuracion['imagen_izquierda_2']['hash'] : 'img/plantillas/hall/imagen_izquierda_2.jpg'; ?>"
                                class="img"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="La dimensión recomendada es de 232 px de ancho y 533 px de alto"
                            />
                        </a>
                    </div>

                    <div class="espacito"></div>

                    <div class="arte-3 imagen banners" data-idbanner="<?php echo (isset($this->configuracion['banner_opciones']['imagen_izquierda_3']))?$this->configuracion['banner_opciones']['imagen_izquierda_3']:'';?>" data-id="imagen_izquierda_3" data-width="232" data-height="533" data-accept=".jpg,.jpeg,.png">
                        <a href="#">
                            <img src="<?php echo ( isset($this->configuracion['imagen_izquierda_3'])) ? 'paginas/hall/'.$this->configuracion['imagen_izquierda_3']['hash'] : 'img/plantillas/hall/imagen_izquierda_3.jpg'; ?>" class="img" data-toggle="tooltip" data-placement="top" title="La dimensión recomendada es de 232 px de ancho y 533 px de alto"
                            />
                        </a>
                    </div>

                    <div class="espacito"></div>

                    <div class="arte-4 imagen banners" data-idbanner="<?php echo (isset($this->configuracion['banner_opciones']['imagen_izquierda_4']))?$this->configuracion['banner_opciones']['imagen_izquierda_4']:'';?>" data-id="imagen_izquierda_4" data-width="232" data-height="533" data-accept=".jpg,.jpeg,.png">
                        <a href="#">
                            <img src="<?php echo ( isset($this->configuracion['imagen_izquierda_4'])) ? 'paginas/hall/'.$this->configuracion['imagen_izquierda_4']['hash'] : 'img/plantillas/hall/imagen_izquierda_4.jpg'; ?>" class="img" data-toggle="tooltip" data-placement="top" title="La dimensión recomendada es de 232 px de ancho y 533 px de alto"
                            />
                        </a>
                    </div>

                </div>

                <div class="content-gif-tv-hall">
                    <div class="tv-gif-hall">
                        <img src="plantillas/imagenes/tv-fondo-back.png" />
                        <div class="caja-gif-hall imagen" data-id="imagen_zonas" data-width="781" data-height="427" data-accept=".jpg,.jpeg,.png"><img src="<?php echo ( isset($this->configuracion['imagen_zonas'])) ? 'paginas/hall/'.$this->configuracion['imagen_zonas']['hash'] : 'img/plantillas/hall/imagen_zonas.jpg'; ?>" class="img" data-toggle="tooltip" data-placement="bottom" title="La dimensión recomendada es de 781 px de ancho y 427 px de alto"/></div>
                    </div>
                </div>

            </div>

            <div id="tv" class="well">
                <div class="modal-contents-2">
                    <iframe
                        width="96%"
                        height="100%"
                        src="https://www.youtube.com/embed/8-tr-tdAM_s?rel=0&autoplay=1&modestbranding=1&showinfo=0&loop"
                        frameborder="0"
                        allow="accelerometer; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen
                    ></iframe>
                </div>
            </div>

            <div id="participantes" class="well-participantes">
                <div class="modal-contents-participantes">
                    <h2>ÁREA DE AUSIPICIADORES</h2>
                    <div id="grid-nacionales-participantes">
                        <a href="stand-01.html">UNKNOWN</a>
                        <a href="stand-01.html">PYME TV</a>
                        <a href="stand-01.html">RLA SAV</a>
                        <a href="stand-01.html">JMT UTDOORS</a>
                        <a href="stand-01.html">PERÚ ENTREGAS</a>
                        <a href="stand-01.html">CRAC MEDIOS</a>

                        <a href="stand-01.html">EDITORA PERÚ</a>
                        <a href="stand-01.html">CRATI</a>
                        <a href="stand-01.html">TERSUS MAX</a>
                        <a href="stand-01.html">INNOVA FACTORING</a>
                        <a href="stand-01.html">RETAIL CUSTOM</a>
                        <a href="stand-01.html">PRESTA MYPE</a>

                        <a href="stand-01.html">GRUPO DRAGMA</a>
                        <a href="stand-01.html">CAMBIO SEGURO</a>
                        <a href="stand-01.html">PONDEROSA</a>
                        <a href="stand-01.html">DIGIFLOW</a>
                        <a href="stand-01.html">2 DAY</a>
                        <a href="stand-01.html">ACOMO</a>

                        <a href="stand-01.html">POP COMUNICACIONES</a>
                        <a href="stand-01.html">TKAMBIO</a>
                        <a href="stand-01.html">LA REPUBLICA</a>
                        <a href="stand-01.html">ENTEL</a>
                        <a href="stand-01.html">INCA POWER</a>
                        <a href="stand-01.html">ASSESOR</a>
                    </div>

                    <h2>ÁREA DE COPE</h2>

                    <div id="grid-internacionales-participantes">
                        <a href="stand-01.html">UNKNOWN</a>
                        <a href="stand-01.html">UNKNOWN</a>
                        <a href="stand-01.html">UNKNOWN</a>
                        <a href="stand-01.html">IMPOEXPO</a>
                        <a href="stand-01.html">PSM</a>

                        <a href="stand-01.html">VAINILLA JOY</a>
                        <a href="stand-01.html">ARIANSEN ALLEMANT</a>
                        <a href="stand-01.html">GRUPO AGRA</a>
                        <a href="stand-01.html">ROVIDENT</a>
                        <a href="stand-01.html">ORD. EMPRESARIAL</a>

                        <a href="stand-01.html">GK SECURE</a>
                        <a href="stand-01.html">ZAMTSU</a>
                        <a href="stand-01.html">FARMACIA UNIVERSAL</a>
                        <a href="stand-01.html">KCS</a>
                        <a href="stand-01.html">CERARTEC</a>

                        <a href="stand-01.html">GCA</a>
                        <a href="stand-01.html">B.S GROUP</a>
                        <a href="stand-01.html">ESPASEM SAC</a>
                        <a href="stand-01.html">CONSTRUCCIONES MODERNAS</a>
                        <a href="stand-01.html">BEAUCE</a>
                    </div>
                </div>
            </div>
        </section>

        <div class="navbar-hall" style="display: none;">
            <div class="boton-conference" style="animation-delay: 1s;"><span>HALL VIRTUAL</span></div>
            <div class="boton-conference" style="animation-delay: 1.3s;">
                <div class="marco-boton"><img src="plantillas/imagenes/iconos-menu-03.svg" width="30%" /></div>
                <a href="conferencias.html">CONFERENCIAS</a>
            </div>

            <div class="boton-conference" style="animation-delay: 1.6s;">
                <div class="marco-boton"><img src="plantillas/imagenes/iconos-menu-agenda.svg" width="30%" /></div>
                <a href="hall-planos.html">EXPOFERIA</a>
            </div>

            <div class="boton-conference" style="animation-delay: 1.9s;">
                <div class="marco-boton"><img src="plantillas/imagenes/iconos-menu-01.svg" width="30%" /></div>
                <a href="auditorio-premium.html">RUEDA DE NEGOCIOS</a>
            </div>
        </div>

        <div class="navbar">
            <div class="boton" style="animation-delay: 1.3s; display: none;">
                <img src="plantillas/imagenes/new-icons-01.svg" width="32%" />
                <a href="recepcion.html"> RECEPCIÓN</a>
            </div>

            <div class="boton" style="animation-delay: 1.7s; display: none;">
                <img src="plantillas/imagenes/new-icons-02.svg" width="32%" />
                <a href="conferencias.html">CONFERENCIAS</a>
            </div>

            <div style="animation-delay: 1.9s; display: none;" class="participantes_open">
                <img src="plantillas/imagenes/new-icons-01.svg" width="32%" />
                <a href="#"> PARTICIPANTES</a>
            </div>
        </div>
    </body>

    <script>
        $(document).ready(function () {
            $("#participantes").popup({
                transition: "all 0.3s",
                closebutton: true,
            });
        });
    </script>

    <script>
        /*!
         * Based on articles on
         * https://gomakethings.com
         */

        var drawer = function () {
            /**
             * Element.closest() polyfill
             * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill
             */
            if (!Element.prototype.closest) {
                if (!Element.prototype.matches) {
                    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
                }
                Element.prototype.closest = function (s) {
                    var el = this;
                    var ancestor = this;
                    if (!document.documentElement.contains(el)) return null;
                    do {
                        if (ancestor.matches(s)) return ancestor;
                        ancestor = ancestor.parentElement;
                    } while (ancestor !== null);
                    return null;
                };
            }

            //
            // Settings
            //
            var settings = {
                speedOpen: 50,
                speedClose: 350,
                activeClass: "is-active",
                visibleClass: "is-visible",
                selectorTarget: "[data-drawer-target]",
                selectorTrigger: "[data-drawer-trigger]",
                selectorClose: "[data-drawer-close]",
            };

            //
            // Methods
            //

            // Toggle accessibility
            var toggleAccessibility = function (event) {
                if (event.getAttribute("aria-expanded") === "true") {
                    event.setAttribute("aria-expanded", false);
                } else {
                    event.setAttribute("aria-expanded", true);
                }
            };

            // Open Drawer
            var openDrawer = function (trigger) {
                // Find target
                var target = document.getElementById(trigger.getAttribute("aria-controls"));

                // Make it active
                target.classList.add(settings.activeClass);

                // Make body overflow hidden so it's not scrollable
                document.documentElement.style.overflow = "hidden";

                // Toggle accessibility
                toggleAccessibility(trigger);

                // Make it visible
                setTimeout(function () {
                    target.classList.add(settings.visibleClass);
                }, settings.speedOpen);
            };

            // Close Drawer
            var closeDrawer = function (event) {
                // Find target
                var closestParent = event.closest(settings.selectorTarget),
                    childrenTrigger = document.querySelector('[aria-controls="' + closestParent.id + '"');

                // Make it not visible
                closestParent.classList.remove(settings.visibleClass);

                // Remove body overflow hidden
                document.documentElement.style.overflow = "";

                // Toggle accessibility
                toggleAccessibility(childrenTrigger);

                // Make it not active
                setTimeout(function () {
                    closestParent.classList.remove(settings.activeClass);
                }, settings.speedClose);
            };

            // Click Handler
            var clickHandler = function (event) {
                // Find elements
                var toggle = event.target,
                    open = toggle.closest(settings.selectorTrigger),
                    close = toggle.closest(settings.selectorClose);

                // Open drawer when the open button is clicked
                if (open) {
                    openDrawer(open);
                }

                // Close drawer when the close button (or overlay area) is clicked
                if (close) {
                    closeDrawer(close);
                }

                // Prevent default link behavior
                if (open || close) {
                    event.preventDefault();
                }
            };

            // Keydown Handler, handle Escape button
            var keydownHandler = function (event) {
                if (event.key === "Escape" || event.keyCode === 27) {
                    // Find all possible drawers
                    var drawers = document.querySelectorAll(settings.selectorTarget),
                        i;

                    // Find active drawers and close them when escape is clicked
                    for (i = 0; i < drawers.length; ++i) {
                        if (drawers[i].classList.contains(settings.activeClass)) {
                            closeDrawer(drawers[i]);
                        }
                    }
                }
            };

            //
            // Inits & Event Listeners
            //
            document.addEventListener("click", clickHandler, false);
            document.addEventListener("keydown", keydownHandler, false);
        };

        drawer();
    </script>

    <script>
        $(document).ready(function () {
            $("#tv").popup({
                transition: "all 0.3s",
                closebutton: true,
            });
        });
    </script>

    <script>
        $(window).load(function () {
            $(".se-pre-con").fadeOut("slow");
        });
    </script>

    <?php echo $this->partial('partial/paginas/opciones', ['planes_paginas'=> $this->planes_paginas, 'idferias'=> $this->feria['idferias'], 'idpaginas'=> $this->pagina['idpaginas'], 'pagina'=> $this->pagina]); ?>

    <form id="form_pagina">
        <input type="hidden" name="plantilla" value="hall" />
        <input type="hidden" name="idpaginas" value="<?php echo $this->pagina['idpaginas']; ?>" />
        <input type="hidden" name="idferias" value="<?php echo $this->feria['idferias']; ?>" />
        <input type="hidden" name="idpaginasferias" value="<?php echo $this->idpaginasferias; ?>" />
        <input type="file" id="imagen_izquierda_1" name="imagen_izquierda_1" onchange="subirArchivo(this.files, this)" style="display: none;" accept=".jpg,.jpeg,.png" />
        <input type="file" id="imagen_izquierda_2" name="imagen_izquierda_2" onchange="subirArchivo(this.files, this)" style="display: none;" accept=".jpg,.jpeg,.png" />
        <input type="file" id="imagen_izquierda_3" name="imagen_izquierda_3" onchange="subirArchivo(this.files, this)" style="display: none;" accept=".jpg,.jpeg,.png" />
        <input type="file" id="imagen_izquierda_4" name="imagen_izquierda_4" onchange="subirArchivo(this.files, this)" style="display: none;" accept=".jpg,.jpeg,.png" />
        <input type="file" id="imagen_zonas" name="imagen_zonas" onchange="subirArchivo(this.files, this)" style="display: none;" accept=".jpg,.jpeg,.png" />
        <input type="file" id="imagen_fondo" name="imagen_fondo" onchange="subirFondo(this.files, this)" style="display: none;" accept=".jpg,.jpeg,.png" />
        <input type="hidden" name="banner_opciones" value='<?php echo ( !empty($this->configuracion['banner_opciones']) ) ? json_encode($this->configuracion['banner_opciones']) : '[]'; ?>'>
    </form>

    <script>
        $("a").click(function (e) {
            e.preventDefault();
        });

        $(".img.img, .btn-cambiar-fondo").tooltip();

        $(".imagen").click(function () {
            let idinputfile = $(this).attr("data-id");
            $("#" + idinputfile).click();
        });

        $(".btn-cambiar-fondo").click(function () {
            $("#imagen_fondo").click();
        });

        var _URL = window.URL || window.webkitURL;

        function subirArchivo(files, obj) {
            let reader = new FileReader();
            let idinputfile = $(obj).attr("id");
            let contenedor = $("[data-id='" + idinputfile + "']");
            let imgContenedor = contenedor.find(".img");
            let file = files[0];
            let img_width = parseInt(contenedor.attr("data-width"));
            let img_height = parseInt(contenedor.attr("data-height"));
            let accept = contenedor.attr("data-accept");
            reader.readAsDataURL(file);
            reader.onload = function (e) {
                var image = new Image();
                image.src = e.target.result;
                image.onload = function () {
                    var width = this.width;
                    var height = this.height;
                    if (width != img_width || height != img_height) {
                        alerta('La imagen no cumple con las dimensiones recomendadas.', 'danger');
                        $(obj).val('');
                        imgContenedor.attr("src", "img/no-imagen.jpg");
                        return false;
                    }
                    contenedor.find("img.img").attr("src", e.target.result);
                };
            };
        }

        function subirFondo(files, obj) {
            let contenedor = $(".imagen-fondo");
            let reader = new FileReader();
            let file = files[0];
            let img_width = parseInt(contenedor.attr("data-width"));
            let img_height = parseInt(contenedor.attr("data-height"));
            let accept = contenedor.attr("data-accept");
            reader.readAsDataURL(file);
            reader.onload = function (e) {
                var image = new Image();
                image.src = e.target.result;
                image.onload = function () {
                    var width = this.width;
                    var height = this.height;
                    if (width != img_width || height != img_height) {
                        alerta('La imagen no cumple las dimensiones recomendadas. Por favor, intentelo otra vez.', 'warning');
                        $(obj).val('');
                        contenedor.css({ "background-image": "url(img/no-imagen.jpg)" });
                        return false;
                    }
                    console.log(e.target.result);
                    contenedor.css({ "background-image": "url(" + e.target.result + ")" });
                };
            };
        }

        $(".btn-guardar-cambios").click(function () {
            let _this = $(this);
            let form = $("form#form_pagina");
            var data = new FormData(form[0]);
            _this.attr("disabled", "");
            _this.find("i").hide();
            $.ajax({
                url: "cliente/guardar-parametros-pagina",
                type: "POST",
                data: data,
                contentType: false,
                processData: false,
                success: function (response) {
                    //console.log( response );
                    if (response.result == "success") {
                        form.find("input[name='idpaginasferias']").val(response.idpaginasferias);
                        _this.find("i").show();
                        _this.find("span").text("Guardar Cambios");
                        alerta("Los datos se guardaron correctamente.", "success");
                    }
                    _this.removeAttr("disabled", "");
                },
                xhr: function () {
                    var xhr = new window.XMLHttpRequest();
                    xhr.upload.addEventListener(
                        "progress",
                        function (evt) {
                            if (evt.lengthComputable) {
                                var percentComplete = Math.round((evt.loaded / evt.total) * 100) + "%";
                                //console.log( percentComplete );
                                _this.find("span").text(percentComplete + " Guardando Cambios...");
                            }
                        },
                        false
                    );
                    return xhr;
                },
                error: function () {
                    alerta("Se han detectado errores de red intente en otro momento.", "danger");
                    _this.removeAttr("disabled", "");
                },
            });
        });
        function abrirVista(href, idmodal, accion){
            let params = '';
            switch(accion){
                case 'banner':
                    params = 'id=&accion=hall&idferias=<?php echo $this->feria['idferias']; ?>';
                break;
            }
            abrirModal(href+'?'+params, idmodal);
        }
    </script>
</html>